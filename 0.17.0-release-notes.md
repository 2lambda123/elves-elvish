This is the draft release notes for 0.17.0, scheduled to be released on
2022-01-01.

# Breaking changes

-   Attempting to assign to a read-only variable (e.g. `set nil = x`) is now a
    compile-time error rather than an exception.

# Deprecated features

Deprecated features will be removed in 0.18.0.

The following deprecated features trigger a warning whenever the code is parsed
or compiled, even if it is not executed:

-   The `dir-history` command is deprecated. Use `store:dirs` instead.

-   The legacy assignment form is deprecated. Depending on whether the left-hand
    variable already exists or not, use `var` or `set` instead. Use the
    [upgrader](https://go.elv.sh/u0.17) to migrate scripts.

-   The lambda syntax that declares arguments and options within `[]` before `{`
    has been deprecated. The new syntax now declares arguments and options
    within a pair of `|`, after `{`.

# Notable new features

New features in the language:

-   A new special command `pragma`. Using `pragma unknown-command = disallow`
    turns off the default behavior of treating unknown commands as external
    commands.

-   A new special command `coalesce`.

New features in the interactive editor:

-   Editor modes now form a stack, instead of being mutually exclusive. For
    example, it is now possible to start a minibuf mode within a completion
    mode, and vice versa.

New features in the standard library:

-   The `store:` module now exposes all functionalities of Elvish's persistent
    store.
